
{% if messages %}
{% for message in messages%}
    var messageContent = "{{ message|escapejs }}";
    var messageTag = "{{ message.tags|escapejs }}";
    console.log(messageTag);
    if(messageTag == "success"){
        swal({
         title: 'Succès',
         text: messageContent,
         icon: 'success',
         buttons: false,
         timer: 2000,
        });

    }else if(messageTag == "error"){
        swal({
         title: 'Erreur',
         text: messageContent,
         icon: 'error',
        });

    }else if(messageTag == "warning"){
        swal({
         title: 'Attention',
         text: messageContent,
         icon: 'warning',
        });

    }

{%endfor%}
{% endif %}

document.querySelectorAll('.swal-6').forEach(function(link) {
    link.addEventListener('click', function(e) {
        e.preventDefault(); // Empêche le lien de s'exécuter automatiquement

        var url = link.getAttribute('href');

        swal({
              title: 'Êtes vous sure ?',
              text: 'La suppression sera irréversible.',
              icon: 'warning',
              buttons: true,
              dangerMode: true,
            }).then((willDelete) => {
            if (willDelete) {
                // Redirige vers l'URL de suppression
                window.location.href = url;
            }
        });

        return false; // Empêche la propagation de l'événement de clic
    });
});




